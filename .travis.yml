language: csharp
services: mysql
solution: cs-sdx.sln
install:
  - nuget restore cs-sdx.sln
  - nuget install xunit.runner.console -Version 2.1.0 -OutputDirectory testrunner
script:
  - cp UnitTest/user.config.tpl UnitTest/user.config
  - xbuild /p:Configuration=TravisCI cs-sdx.sln
  - mono ./testrunner/xunit.runner.console.2.1.0/tools/xunit.console.exe ./UnitTest/bin/TravisCI/UnitTest.dll
git:
    submodules: false
before_install:
    - sed -i 's/git@github.com:/https:\/\/github.com\//' .gitmodules
    - git submodule update --init --recursive
